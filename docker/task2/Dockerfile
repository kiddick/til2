# На этом шаге от вас потребуется создать Dockerfile для образа, который будет удовлетворять следующим свойствам:

# Базовый образ – ubuntu:16.04
# Установлен текстовый редактор nano
# Переменная окружения $EDITOR устанавливает nano в качестве редактора по умолчанию
# В качестве рабочей директории установлен каталог /home/stepik
# При запуске контейнера открывается nano, файл автоматически сохраняется в файловую систему хоста, даже если при запуске опции монтирования не указаны (при отсутствии опции монтирования путь, по кторому сохраняется файл, не играет роли, важно, чтобы файл в конечном счете оказался на хосте)
# Владельцем файла на хосте назначается пользователь с uid=1000, если при сборке не указываются дополнительные аргументы, или пользователь с uid, который был задан аргументом UID при сборке
# Именно этот пользователь (uid=1000/uid=UID) должен быть основным в контейнере.

FROM ubuntu:16.04
RUN apt-get update
RUN apt-get install nano
ENV EDITOR=/usr/bin/nano
ARG UID=1000
ENV foo=/home/stepik
RUN useradd -r -u $UID test -d $foo -m
USER test
WORKDIR $foo
RUN ls -all $foo
VOLUME /home/stepik
ENV FTW=$foo/test.txt
RUN touch $FTW
ENTRYPOINT ["nano", "/home/stepik/test.txt"]